<!--Reference the jQuery library. -->
<script src="../Scripts/jquery-1.10.2.min.js"></script>
<!--Reference the SignalR library. -->
<script src="../Scripts/jquery.signalR-2.2.3.min.js"></script>

<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<!--Add script to update the page and send messages.-->

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
	$(function () {
		// Declare a proxy to reference the hub.
		var game = $.connection.gameHub;
		// Create a function that the hub can call to broadcast messages.
		game.client.broadcastMessage = function (gamewon, moves) {
			// Html encode display name and message.
			var encodedName = $('<div />').text(gamewon).html();
			var encodedMsg = $('<div />').text(moves).html();
			// Add the message to the page.
			console.log(gamewon + "-" + moves);
			$('#discussion').append('<li><strong>' + encodedName
				+ '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
		};
		// Start the connection.
		$.connection.hub.start().done(function () {
			$('#sendmessage').click(function () {
				// Call the Send method on the hub.
				game.server.sendMessage(false, $('#message').val());
			});
		});
	});
</script>
<div class="container">
	<div class="row">
		<div class="col-md-6">
			<div class="row text-center">
				<h2>Your Message</h2>
			</div>
			<div class="row">
				<input type="text" id="message" placeholder="Enter your message..." />
				<input type="button" class="btn-primary" value="Send" id="sendmessage" />
			</div>
		</div>
	</div>
	<ul id="discussion"></ul>
</div>
